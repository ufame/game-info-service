# A2S Info Getter

- Текущий работающий адрес сервиса, доступный всем желающим: https://getgameinfo.ru/api/game-info/
- Про эндпоинты прочесть можно ниже

## Возможные параметры запроса

  - `type` (обязательный): [Тип игры](https://github.com/gamedig/node-gamedig/blob/master/GAMES_LIST.md). (Брать из колонки `GameDig Type ID`)
  - `host` (обязательный): Адрес хоста игрового сервера.
  - `port` (необязательный): Порт игрового сервера.
  - `maxAttempts` (необязательный): Максимальное количество попыток подключения.
  - `socketTimeout` (необязательный): Тайм-аут сокета.
  - `attemptTimeout` (необязательный): Тайм-аут попытки подключения.
  - `givenPortOnly` (необязательный): Флаг, указывающий, использовать только заданный порт.
  - `ipFamily` (необязательный): Версия IP-адреса сервера (0 - автоматически, 4 - IPv4, 6 - IPv6).
  - `debug` (необязательный): Флаг, включающий отладочный режим.
  - `requestRules` (необязательный): Флаг, указывающий, запрашивать правила сервера.

Пример запроса с параметрами:
`/api/game-info/info?type=cs16&host=93.191.11.213&port=27055&requestRules=true`

## Эндпоинты

### Полное получение информации об игре (`/info`)

- Ответ: Возвращает JSON-объект с деталями, такими как название игры, текущая карта, наличие пароля, максимальное количество игроков, список игроков, список ботов, адрес для подключения и пинг.

Пример ответа:

```json
{
  "name": "Bro || HNS (100aa)",
  "map": "awp_rooftops",
  "password": false,
  "raw":
  {
    "protocol": 48,
    "folder": "cstrike",
    "game": "t.me/brocsx",
    "appId": 10,
    "numplayers": 0,
    "numbots": 0,
    "listentype": "d",
    "environment": "l",
    "secure": 0,
    "version": "1.1.2.7/Stdio"
  },
  "maxplayers": 16,
  "players":
  [
    {
      "name": "PLayerrr",
      "raw":
      {
        "score": 0,
        "time": 144.923828125
      }
    }
  ],
  "bots": [],
  "connect": "93.191.11.213:27055",
  "ping": 26
}
```

### Получение информации о карте (`/map`)

- Ответ: Возвращает название текущей карты на сервере.

Пример ответа:

```
awp_rooftops
```

### Получение информации об игроках (`/players`)

- Ответ: Возвращает JSON-объект с деталями о всех игроках

Пример ответа:

```json
[
  {
    "name": "PLayerrr",
    "raw":
    {
      "score": 0,
      "time": 1015.1362915039062
    }
  }
]
```

### Получение информации о правилах (`/rules`)

- Ответ: Возвращает JSON-объект с правилами сервера.

Пример неполного ответа:

```json
{
  "admin_loader_version": "3.5",
  "allow_spectators": "1",
  "amx_client_languages": "1",
  "amx_language": "en"
}
```
